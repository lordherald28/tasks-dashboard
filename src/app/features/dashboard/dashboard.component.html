<div class="dashboard-container">
  <div class="dashboard-header">
    <h2>Dashboard Overview</h2>
    <p>Resumen general de tus tareas y productividad</p>
  </div>

  <!-- Grid de métricas principales -->
  <mat-grid-list cols="4" rowHeight="150px" gutterSize="16px">
    <!-- Total -->
    <mat-grid-tile>
      <mat-card class="metric-card primary">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>assignment</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ totalTasks }}</span>
              <span class="metric-label">Total</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Completadas -->
    <mat-grid-tile>
      <mat-card class="metric-card success">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>check_circle</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ completedTasks }}</span>
              <span class="metric-label">Completadas</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Pendientes -->
    <mat-grid-tile>
      <mat-card class="metric-card warning">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>pending_actions</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ pendingTasks }}</span>
              <span class="metric-label">Pendientes</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- % Completadas -->
    <mat-grid-tile>
      <mat-card class="metric-card info">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>trending_up</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ completionRate }}%</span>
              <span class="metric-label">Ratio Completadas</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

  <!-- Segunda fila de métricas -->
  <mat-grid-list cols="4" rowHeight="150px" gutterSize="16px" class="second-row">
    <!-- Productividad -->
    <mat-grid-tile>
      <mat-card class="metric-card accent">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>speed</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ productivityScore }}%</span>
              <span class="metric-label">Productividad</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Datos de la Semana-->
    <mat-grid-tile>
      <mat-card class="metric-card secondary">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>calendar_today</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ weeklyTasks }}</span>
              <span class="metric-label">Datos de la Semana</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- TIempo promedio -->
    <mat-grid-tile>
      <mat-card class="metric-card tertiary">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>schedule</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ avgCompletionTime }}</span>
              <span class="metric-label">TIempo promedio</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <!-- Urgent -->
    <mat-grid-tile>
      <mat-card class="metric-card danger">
        <mat-card-content>
          <div class="card-content">
            <div class="metric-icon">
              <mat-icon>priority_high</mat-icon>
            </div>
            <div class="metric-data">
              <span class="metric-value">{{ urgentTasks }}</span>
              <span class="metric-label">Urgentes</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

  <!-- Grid para gráficos -->
  <div class="charts-section">
    <h3>Análisis </h3>
    <mat-grid-list cols="2" rowHeight="400px" gutterSize="24px">
      <!-- Gráfico de distribución -->
      <mat-grid-tile>
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>Distribución</mat-card-title>
            <mat-icon matCardAvatar>pie_chart</mat-icon>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-advanced-pie-chart
              [results]="taskStatusData"
              [label]="'Tareas'"
              [animations]="true"
              [scheme]="colorScheme">
            </ngx-charts-advanced-pie-chart>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>

      <!-- Gráfico de progreso semanal -->
      <mat-grid-tile>
        <mat-card class="chart-card">
          <mat-card-header>
            <mat-card-title>Progreso Semanal</mat-card-title>
            <mat-icon matCardAvatar>bar_chart</mat-icon>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
              [results]="weeklyProgressData"
              [xAxis]="true"
              [yAxis]="true"
              [showXAxisLabel]="false"
              [showYAxisLabel]="false"
              [scheme]="colorScheme"
              [animations]="true">
            </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
</div>